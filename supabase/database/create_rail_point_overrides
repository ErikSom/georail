-- Parameters from your editor:
-- :segment_id = 123
-- :index = 2
-- :new_z = 155
-- :new_m = 1.0

INSERT INTO rail_point_overrides (segment_id, point_index, height, lateral_offset)
VALUES (:segment_id, :index, :new_z, :new_m)
ON CONFLICT (segment_id, point_index)
DO UPDATE SET
  height = EXCLUDED.height,
  lateral_offset = EXCLUDED.lateral_offset;